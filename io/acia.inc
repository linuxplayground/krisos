; KrisOS - acia.h
;
; Copyright 2020 Kris Foster
; Permission is hereby granted, free of charge, to any person obtaining a copy
; of this software and associated documentation files (the "Software"), to deal
; in the Software without restriction, including without limitation the rights
; to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
; copies of the Software, and to permit persons to whom the Software is
; furnished to do so, subject to the following conditions:
;
; The above copyright notice and this permission notice shall be included in all
; copies or substantial portions of the Software.
;
; THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
; IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
; FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
; AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
; LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
; OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
; SOFTWARE.

.ifndef _ACIA_H_
_ACIA_H_ = 1

    .import __ACIA_START__

; 6551 ACIA
.enum
    ACIA_DATA       = __ACIA_START__
    ACIA_STATUS
    ACIA_COMMAND
    ACIA_CONTROL
.endenum

; Control Register
ACIA_1_STOP_BIT     = %00000000
ACIA_2_STOP_BITS    = %10000000

ACIA_8_DATA_BITS    = %00000000
ACIA_7_DATA_BITS    = %01000000
ACIA_6_DATA_BITS    = %10000000
ACIA_5_DATA_BITS    = %11000000

ACIA_EXTERNAL_CLOCK = %00000000
ACIA_BAUD_GENERATOR = %00010000

ACIA_EXT_CLOCK_BAUD = %00000000
ACIA_50_BAUD        = %00000001
ACIA_75_BAUD        = %00000010
ACIA_110_BAUD       = %00000011
ACIA_135_BAUD       = %00000100
ACIA_150_BAUD       = %00000101
ACIA_300_BAUD       = %00000110
ACIA_600_BAUD       = %00000111
ACIA_1200_BAUD      = %00001000
ACIA_1800_BAUD      = %00001001
ACIA_2400_BAUD      = %00001010
ACIA_3600_BAUD      = %00001011
ACIA_4800_BAUD      = %00001100
ACIA_7200_BAUD      = %00001101
ACIA_9600_BAUD      = %00001110
ACIA_19200_BAUD     = %00001111

ACIA_HARDWARE_RESET = %00000000

; Command Register
ACIA_NO_PARITY      = %00000000
ACIA_ODD_PARITY     = %00100000
ACIA_EVEN_PARITY    = %01100000
ACIA_MARK_PARITY    = %10100000
ACIA_SPACE_PARITY   = %11100000

ACIA_NO_ECHO        = %00000000
ACIA_ECHO           = %00010000

ACIA_TX_DIS_RTS_HIGH    = %00000000
ACIA_TX_ENA_RTS_LOW     = %00000100
ACIA_TX_DIS_RTS_LOW     = %00001000
ACIA_TX_DIS_RTS_LOW_BRK = %00001100

ACIA_IRQ_ENABLE     = %00000000
ACIA_IRQ_DISABLE    = %00000010

ACIA_DTR_DISABLE    = %00000000
ACIA_DTR_ENABLE     = %00000001

; Status Register
ACIA_IRQ_FALSE      = %00000000
ACIA_IRQ_TRUE       = %10000000

ACIA_DSR_READY      = %00000000
ACIA_DSR_NOT_READY  = %01000000

ACIA_DCD_DETECT         = %00000000
ACIA_DCD_NOT_DETECTED   = %00100000

ACIA_TXD_NOT_EMPTY  = %00000000
ACIA_TXD_EMPTY      = %00010000

ACIA_RXD_NOT_FULL   = %00000000
ACIA_RXD_FULL       = %00001000

ACIA_NO_OVERRUN     = %00000000
ACIA_OVERRUN        = %00000100

ACIA_NO_FRAMING_ERR = %00000000
ACIA_FRAMING_ERR    = %00000010

ACIA_NO_PARITY_ERR  = %00000000
ACIA_PARITY_ERR     = %00000001

.endif